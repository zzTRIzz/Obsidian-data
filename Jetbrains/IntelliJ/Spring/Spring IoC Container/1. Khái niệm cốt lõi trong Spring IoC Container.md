<br>

## 1. Spring IoC Container lÃ  gÃ¬?

**Váº¥n Ä‘á»:**

- ChÆ°a hiá»ƒu rÃµ cÃ¡ch Spring IoC Container hoáº¡t Ä‘á»™ng.
    
- ChÆ°a biáº¿t táº¡i sao cáº§n Ä‘Äƒng kÃ½ bean (**Ä‘á»‘i tÆ°á»£ng do Spring quáº£n lÃ½**).
    

**Giáº£i thÃ­ch:** Spring IoC Container giá»‘ng nhÆ° má»™t "thÃ¹ng chá»©a" quáº£n lÃ½ táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng (**bean**) trong á»©ng dá»¥ng. Khi báº¡n Ä‘Äƒng kÃ½ bean báº±ng `@Component` hoáº·c `@Bean`, Spring sáº½:

1. Táº¡o Ä‘á»‘i tÆ°á»£ng.
    
2. LÆ°u trá»¯ nÃ³ trong container.
    
3. Tá»± Ä‘á»™ng inject (tiÃªm) vÃ o nÆ¡i cáº§n dÃ¹ng (`@Autowired`).
    

---

## 2. Khi nÃ o dÃ¹ng `@Component` vÃ  khi nÃ o dÃ¹ng `@Bean`?

**Váº¥n Ä‘á»:**

- ChÆ°a biáº¿t khi nÃ o sá»­ dá»¥ng `@Component` cho class tá»± viáº¿t vÃ  khi nÃ o dÃ¹ng `@Bean` cho class cá»§a bÃªn thá»© ba.
    

### **TrÆ°á»ng há»£p 1: Class do báº¡n viáº¿t â†’ DÃ¹ng** `**@Component**`

```java
@Component // Quáº£n lÃ½ bá»Ÿi Spring
public class UserService {
    // Code bÃªn trong class
}
```

### **TrÆ°á»ng há»£p 2: Class tá»« thÆ° viá»‡n bÃªn ngoÃ i â†’ DÃ¹ng** `**@Bean**`


```java
@Configuration
public class AppConfig {
    @Bean
    public RestTemplate restTemplate() {
        return new RestTemplate();
    }
}
```

---

## 3. Sá»± khÃ¡c biá»‡t giá»¯a `@Component` vÃ  `@Bean`

|Äáº·c Ä‘iá»ƒm|`@Component`|`@Bean`|
|---|---|---|
|CÃ¡ch táº¡o bean|Spring tá»± Ä‘á»™ng (constructor máº·c Ä‘á»‹nh)|Báº¡n tá»± viáº¿t code Ä‘á»ƒ táº¡o Ä‘á»‘i tÆ°á»£ng|
|VÃ­ dá»¥|`new UserService()` (Spring táº¡o tá»± Ä‘á»™ng)|`return new RestTemplate()` (Báº¡n viáº¿t)|
|Kiá»ƒm soÃ¡t logic|KhÃ´ng|CÃ³ (vÃ­ dá»¥: cáº¥u hÃ¬nh timeout, database)|

---

## 4. `@Configuration` vÃ  `@ComponentScan` lÃ  gÃ¬?

**Váº¥n Ä‘á»:**

- ChÆ°a hiá»ƒu táº¡i sao `@Bean` cáº§n lá»›p `@Configuration`.
    
- ChÆ°a biáº¿t `@ComponentScan` dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬.
    

### **Giáº£i thÃ­ch:**

- `@Configuration`: ÄÃ¡nh dáº¥u lá»›p chá»©a cÃ¡c phÆ°Æ¡ng thá»©c `@Bean` â†’ Spring biáº¿t Ä‘Ã¢y lÃ  nÆ¡i Ä‘á»‹nh nghÄ©a bean thá»§ cÃ´ng.
    
- `@ComponentSca`: Spring tá»± Ä‘á»™ng quÃ©t cÃ¡c package Ä‘á»ƒ tÃ¬m class cÃ³ `@Component`, `@Service`, v.v. â†’ Táº¡o bean tá»± Ä‘á»™ng.
    


```java
@Configuration
@ComponentScan(basePackages = "com.example")
public class AppConfig {
}
```

---

## 5. VÃ­ dá»¥ thá»±c táº¿


```java
// 1. DÃ¹ng @Component: Tá»± Ä‘á»™ng Ä‘Äƒng kÃ½ bean
@Component
public class EmailService {
    public void sendEmail() {
        System.out.println("Email sent!");
    }
}

// 2. DÃ¹ng @Bean: ÄÄƒng kÃ½ bean thá»§ cÃ´ng
@Configuration
public class AppConfig {
    @Bean
    public Calculator calculator() {
        return new Calculator();
    }
}

// 3. Sá»­ dá»¥ng cáº£ hai bean
@Service
public class UserService {
    @Autowired
    private EmailService emailService; // Bean tá»± Ä‘á»™ng (Component)

    @Autowired
    private Calculator calculator; // Bean thá»§ cÃ´ng (Bean)

    public void registerUser() {
        calculator.calculate();
        emailService.sendEmail();
    }
}
```

---

## 6. CÃ¡ch kháº¯c phá»¥c lá»—i khi sá»­ dá»¥ng Spring IoC

1. **Thá»±c hÃ nh ngay**: Táº¡o má»™t project Spring Boot nhá», thá»­ dÃ¹ng cáº£ `@Component` vÃ  `@Bean`.
    
2. **Debug Ä‘á»ƒ xem bean Ä‘Æ°á»£c táº¡o ra**: Äáº·t breakpoint á»Ÿ constructor cá»§a cÃ¡c class cÃ³ `@Component` vÃ  phÆ°Æ¡ng thá»©c `@Bean`.
    
3. **Äá»c tÃ i liá»‡u chÃ­nh thá»©c**: [Spring Core Documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html).
    

---

HÃ£y cho tÃ´i biáº¿t náº¿u báº¡n cáº§n giáº£i thÃ­ch ká»¹ hÆ¡n! ğŸš€